# function for loading ssh key and removing; needs
# to be activated during container builds by adding
# a call to the end of $HOME/.bashrc
check-load-ssh(){
    [ ! -e $HOME/.ssh/id_ssh ] && return
    if ! ssh-add -l >/dev/null && [ -e $HOME/.ssh/id_ssh ]
    then
        echo "Loading ssh private key ..."
        ssh-add $HOME/.ssh/id_ssh
    fi
    if ssh-add -l >/dev/null && [ -e $HOME/.ssh/id_ssh ]
    then
        echo "Removing ssh private key ..."
        rm -f $HOME/.ssh/id_ssh
    fi
}
# ssh-agent in shell sessions
if [ ! "$SSH_AUTH_SOCK" ]
then
    export SSH_AUTH_SOCK=$(echo /tmp/ssh-*/*)
    export SSH_AGENT_PID=$(pgrep ssh-agent)
fi
check-load-ssh
source $HOME/.git-completion.bash
source $HOME/.git-prompt.sh
PATH=${PATH}:/opt/gopherbot:${HOME}/go/bin:${HOME}/.local/bin
GIT_PS1_SHOWUPSTREAM="auto"
GIT_PS1_SHOWDIRTYSTATE="true"
GIT_PS1_SHOWSTASHSTATE="true"
GIT_PS1_SHOWUNTRACKEDFILES="true"
PS1='[\[\033[01;34m\]${GOPHER_IDE%-dev}:\[\033[01;32m\]\w\[\033[01;34m\]$(__git_ps1 "(%s)")\[\033[00m\]]\$ \[\]\[\]'
